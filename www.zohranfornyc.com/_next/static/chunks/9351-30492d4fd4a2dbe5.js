(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9351],{19351:(e,t,s)=>{"use strict";s.d(t,{A:()=>L});var r=s(62540),n=s(31965),a=s(58793),i=s(3606),l=s(63696),o=s(32212),c=s(57829),d=s(5466),h=s(64382),u=s(83844),m=s(39148),p=s(72831);function x(e){let{onBackClick:t,onStepChange:s,scrolledDown:n,embedUrl:a}=e,{query:d}=(0,p.useRouter)(),u=h.tg.use.selectedRegions(),x=h.tg.use.selectedShifts(),f=h.tg.use.regions(),g=h.tg.use.allShifts(),b=h.tg.use.setReferralCode(),v=h.tg.use.handleFormSubmission(),[j,y]=(0,l.useState)(!1),w=(0,l.useMemo)(()=>{let e=f.length===u.length,t=f.reduce((e,t)=>(e[t.properties.borough]=e[t.properties.borough]||{checked:!1,name:t.properties.borough,options:[]},e[t.properties.borough].options.push(t.properties.name),e),{}),s=[];return e?s.push("Anywhere!!!"):Object.values(t).forEach(e=>{if(e.options.every(e=>u.includes(e)))s.unshift("Bronx"===e.name?"The Bronx":e.name);else{let t=e.options.filter(e=>u.includes(e));s.push(...t)}}),{where:s,when:Object.entries(x.reduce((e,t)=>{let s=g.find(e=>t===e.id);return s&&e.push({date:s.date,datetime:s.datetime,id:t}),e},[]).sort((e,t)=>e.datetime-t.datetime).reduce((e,t)=>{var s;let r=t.id.match(/([A-Za-z]+ \d{1,2}(?:st|nd|rd|th))/);if(!r)return e;let n=r[1],a=null===(s=t.id.split(r[0])[1])||void 0===s?void 0:s.trim();return e[n]||(e[n]={date:"".concat(t.datetime.toLocaleDateString("en-US",{weekday:"long",timeZone:"America/New_York"}),", ").concat(n),times:[]}),e[n].times.push({id:t.id,time:a}),e},{})).map(e=>{let[t,s]=e;return{date:s.date,times:s.times,id:t}})}},[f,g,u,x]),N=(0,l.useMemo)(()=>{let e=new URLSearchParams;if(d){for(let[t,s]of("string"==typeof d.r&&e.set("r",d.r.trim()),Object.entries(d)))t.startsWith("utm_")&&"string"==typeof s&&e.set(t,s);d.debug&&e.set("debug","true")}return u.length===f.length?e.set("region","SEND ME ANYWHERE!"):u.forEach(t=>{e.append("region",t)}),x.forEach(t=>{e.append("shift",t)}),"".concat(a||"https://volunteer.zohranfornyc.com/big-birthday-weekend/embed","?").concat(e.toString())},[d,f,u,x]),k=(0,l.useRef)(null);(0,l.useEffect)(()=>{k.current&&k.current.focus()},[]);let S=(0,l.useRef)(null),C=(0,l.useCallback)(e=>{if("solidarity-gotv-sync:ready"===e.data.type&&S.current){let{selectedRegions:e,selectedShifts:t,regions:s}=h.tg.getState(),r=[...e];e.length===s.length&&(r=["SEND ME ANYWHERE!"]),S.current.sendMessage({type:"solidarity-gotv-sync:update",regions:r,shifts:t})}else if("SOLIDARITY_THANKYOUPAGE"===e.data.type)v(),y(!0);else if("solidarity-share-url-init"===e.data.type&&e.data.url){let t=new URL(e.data.url).searchParams.get("r");t&&b(t)}},[]);return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsxs)("header",{className:(0,c.cn)("sticky w-full h-12 md:h-16 border-b flex items-center justify-center z-10 top-0 bg-background py-3 mb-2 text-center","border-b-grey"),children:[j?null:(0,r.jsx)("nav",{className:"absolute left-0 top-0",children:(0,r.jsxs)(i.$,{className:"size-12 md:h-16 justify-start p-0 ps-1 pb-0.5 h-12 hover:bg-transparent text-primary hover:text-primary border-0",variant:"ghost",onClick:t,children:[(0,r.jsx)("span",{className:"sr-only",children:"Back"}),(0,r.jsx)(o.A,{className:"rotate-90 !size-8","aria-hidden":"true"})]})}),(0,r.jsx)("h2",{tabIndex:-1,ref:k,className:"focus-visible:outline-none text-[1.4rem] 2xs:text-[1.5rem]",children:"Confirmation"})]}),(0,r.jsxs)("div",{className:"px-6 pt-4 items-start max-w-lg mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsx)("h3",{className:"caption leading-none",children:"Where"}),j?null:(0,r.jsxs)("button",{className:"text-primary underline text-sm leading-none",onClick:()=>s("map"),children:["Change ",(0,r.jsx)("span",{className:"sr-only",children:"locations"})]})]}),(0,r.jsx)("ul",{className:"block whitespace-pre-wrap mb-6",children:w.where.map((e,t)=>(0,r.jsx)("li",{className:(0,c.cn)("inline",t<w.where.length-1&&'after:content-[",_"]'),children:e},t))}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"caption leading-none",children:"When"}),j?null:(0,r.jsxs)("button",{className:"text-primary underline text-sm leading-none",onClick:()=>s("shifts"),children:["Change ",(0,r.jsx)("span",{className:"sr-only",children:"shifts"})]})]}),(0,r.jsx)("div",{className:"prose",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{className:"sr-only",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Date"}),(0,r.jsx)("th",{children:"Shifts"})]})}),(0,r.jsx)("tbody",{children:w.when.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"text-base w-1/2",children:e.date}),(0,r.jsx)("td",{className:"text-base",children:(0,r.jsx)("ul",{className:"not-prose text-end",children:e.times.map(e=>(0,r.jsx)("li",{children:e.time},e.time))})})]},t))})]})})]}),(0,r.jsx)("div",{className:"w-full max-w-lg mx-auto",children:(0,r.jsx)(m.s,{ref:S,src:N,onMessage:C})})]})}var f=s(31521),g=s(8958),b=s(43686);function v(e){let{options:t,onBoroughSelect:s,selected:n,onChange:a,mobile:i}=e;n.length,t.length;let c=(0,l.useRef)([]),[d,h]=(0,l.useState)([]),u=(0,l.useRef)(d[0]),m=(0,l.useRef)({}),p=(0,l.useMemo)(()=>{let e=t.reduce((e,t)=>(e[t.properties.borough]=e[t.properties.borough]||{checked:!1,name:t.properties.borough,options:[]},e[t.properties.borough].options.push(t.properties.name),e),{});return Object.values(e).forEach(e=>{e.checked=!e.options.find(e=>!n.includes(e)),e.indeterminate=!e.checked&&!!e.options.find(e=>n.includes(e))}),e},[t,n]),x=l.useCallback(e=>{e&&(m.current[e.dataset.key]=e)},[m]);return(0,l.useEffect)(()=>{let e=d[0];u.current=e;let t=e?m.current[e]:void 0,s=document.getElementById("map-container");t&&t.offsetParent&&s&&requestAnimationFrame(()=>{let e=Math.round(t.offsetTop-(48+s.clientHeight));window.scrollTo({left:0,top:e,behavior:"smooth"})})},[d]),(0,l.useEffect)(()=>{if(n.length===c.current.length+1){let e=n[n.length-1],s=t.find(t=>t.properties.name===e);s&&s.properties.borough!==u.current&&h([s.properties.borough])}c.current=n},[n,t]),(0,r.jsx)("div",{className:"-mx-4",children:(0,r.jsx)(g.nD,{type:"single",collapsible:!0,value:d[0],onValueChange:e=>{h([e])},className:"flex flex-col","data-className":"overflow-auto px-4 md:space-y-3 flex items-start space-x-3 md:space-x-0 md:flex-col md:items-stretch",children:["Bronx","Brooklyn","Manhattan","Queens","Staten Island"].map(e=>{if(1===p[e].options.length){let t=p[e].options[0];return(0,r.jsxs)(b.J,{className:"heading-text text-2xl flex items-center space-x-3 p-3 ps-4 border-b-2 last:border-b-0 border-primary flex-none whitespace-nowrap",children:[(0,r.jsx)(f._,{value:t,name:"region",checked:n.includes(t),onCheckedChange:e=>{e?a([...n,t]):a(n.filter(e=>e!==t))},size:"lg"}),(0,r.jsx)("span",{children:t})]},e)}return(0,r.jsxs)(g.As,{value:e,id:e,"data-key":e,ref:x,className:"group border-b-2 last:border-b-0 border-primary flex-none whitespace-nowrap",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(b.J,{className:"p-3 ps-4 heading-text text-2xl flex items-center whitespace-nowrap",children:[(0,r.jsx)(f._,{name:"borough",value:e,size:"lg",checked:p[e].indeterminate?"indeterminate":p[e].checked,onCheckedChange:t=>{let r=[...n];t?(d.includes(e)||h([e]),p[e].options.forEach(e=>{r.includes(e)||r.push(e)}),s(e)):p[e].options.forEach(e=>{r.includes(e)&&(r=r.filter(t=>t!==e))}),a(r)}},e),(0,r.jsxs)("span",{className:"sr-only",children:["All regions in"," ","Bronx"===e?"The Bronx":e]})]}),(0,r.jsx)(g.$m,{chevron:(0,r.jsx)(o.A,{className:"w-6 h-6 transition-transform duration-200 -rotate-90 group-data-[state=open]:-rotate-180 motion-safe:transition-transform","aria-hidden":"true"}),className:"p-4 ps-0 heading-text self-stretch text-2xl whitespace-nowrap grow flex items-center justify-between text-primary",children:"Bronx"===e?"The Bronx":e})]}),(0,r.jsx)(g.ub,{disableAnimation:!0,className:"ps-7 pb-3",children:p[e].options.map(e=>(0,r.jsxs)(b.J,{className:"flex items-center space-x-3 min-h-11 xs:text-lg",children:[(0,r.jsx)(f._,{name:"region",value:e,checked:n.includes(e),onCheckedChange:t=>{t?a([...n,e]):a(n.filter(t=>t!==e))}},e),(0,r.jsx)("span",{children:e})]},e))})]},e)})})})}var j=s(92104);function y(e){let{date:t,selectedShifts:s,addShifts:n,removeShifts:a}=e,i=s.length===t.times.length;return(0,r.jsx)("li",{className:"w-full overflow-hidden",children:(0,r.jsx)("fieldset",{className:"m-0 min-w-0 block w-full",children:(0,r.jsxs)("div",{className:(0,c.cn)("relative m-0 min-w-0 pt-3 pb-2.5 flex flex-col items-center caption text-primary border-2 border-primary","transition-colors duration-300 ease-out w-full",i&&"theme-blue bg-background text-primary border-background"),children:[(0,r.jsxs)("legend",{className:"float-left block px-3 text-primary caption text-center mb-1",children:[(0,r.jsx)("span",{className:"block mb-1",children:t.day}),(0,r.jsx)("span",{className:"text-lg",children:t.date})]}),(0,r.jsxs)(b.J,{className:"absolute inset-0",children:[(0,r.jsx)(j.bL,{name:"date",value:t.dayLabel,checked:!!i||s.length>0&&"indeterminate",onCheckedChange:e=>{console.log("change",e,t.dayLabel),e?n(t.times.map(e=>e.value)):a(s)},className:"w-full h-full focus-visible:ring-offset-2 focus-visible:ring-inset focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-secondary focus-visible:ring-primary"}),(0,r.jsxs)("span",{className:"sr-only",children:["All shifts for ",t.dayLabel]})]}),(0,r.jsx)("ul",{className:"relative",children:t.times.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(b.J,{className:"flex items-center space-x-3 px-3 h-11",children:[(0,r.jsx)(f._,{name:"shift",value:e.value,checked:s.includes(e.value),onCheckedChange:t=>{t?n([e.value]):a([e.value])}}),(0,r.jsx)("span",{children:e.time.split(" - ")[0]})]})},e.value))})]})})})}function w(e){let{selected:t,onSubmit:s,onStepChange:n}=e,a=h.tg.use.loadShifts(),o=h.tg.use.allShifts(),u=h.tg.use.fetchStatus(),m=h.tg.use.availableShifts(),p=h.tg.use.selectedShifts(),x=h.tg.use.addShifts(),f=h.tg.use.removeShifts(),g=h.tg.use.selectedRegions(),b=h.tg.use.regions(),v=(0,l.useMemo)(()=>g.length===b.length,[g,b]),j=(0,l.useMemo)(()=>{let e=m.map(e=>o.find(t=>e===t.id)).filter(Boolean).sort((e,t)=>e.datetime.getTime()-t.datetime.getTime()).reduce((e,t)=>{let s=t.date,r=t.time;return e[s]||(e[s]={times:[],day:t.day,date:t.cal,dayLabel:null==t?void 0:t.datetime.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",timeZone:"America/New_York"})}),e[s].times.push({value:t.id,time:r}),e},{}),t=[{name:"Birthday Week Continues!",dates:["Oct 20","Oct 21","Oct 22","Oct 23","Oct 24"]},{name:"First Weekend of Early Voting",dates:["Oct 25","Oct 26"]},{name:"Weekday Canvasses",dates:["Oct 27","Oct 28","Oct 29","Oct 30","Oct 31"]},{name:"Last Weekend of Early Voting",dates:["Nov 1","Nov 2"]},{dates:["Nov 3"]},{name:"Election Day!",dates:["Nov 4"]}];return Object.values(e).forEach(e=>{let s=t.find(t=>t.dates.includes(e.date));s&&(s.shifts||(s.shifts=[]),s.shifts.push(e))}),t.filter(e=>{var t;return(null===(t=e.shifts)||void 0===t?void 0:t.length)>0})},[m,o]);return"error"!==u&&(null==o?void 0:o.length)?j.length?(0,r.jsxs)("form",{onSubmit:s,children:[(0,r.jsx)("div",{className:"prose mx-auto max-w-lg px-4 pt-5",children:(0,r.jsxs)("p",{children:[v?"Thank you for signing up to canvass where you are most needed in the five boroughs! We will send you to the most strategic canvass location for the shift(s) you sign up for.":null," ","Let us know what days and times work for you!"]})}),(0,r.jsx)("div",{className:"p-4 pb-2 space-y-4",children:j.map((e,t)=>(0,r.jsxs)("section",{children:[e.name?(0,r.jsx)("h3",{className:(0,c.cn)("w-full z-[1] relative p-2 caption text-center",e.cn||"bg-accent text-accent-foreground"),children:e.name}):null,(0,r.jsx)("ul",{className:(0,c.cn)("gap-0.5 pt-0.5 grid overflow-auto",1===e.shifts.length?"grid-cols-1":"grid-cols-2"),children:e.shifts.map((e,t)=>(0,r.jsx)(y,{date:e,selectedShifts:e.times.filter(e=>p.includes(e.value)).map(e=>e.value),addShifts:x,removeShifts:f},t))})]},t))}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(i.$,{size:"lg",type:"submit",disabled:0===p.length,className:(0,c.cn)("w-full transition ease-out duration-300"),children:"Continue"})})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"prose mx-auto max-w-lg px-4 pt-5",children:[(0,r.jsx)("p",{children:"We're sorry, there are no shifts available here right now. Check back soon, or try a different location."}),(0,r.jsx)(d.E,{variant:"primary",size:"lg",className:"w-full mt-3",label:"Change location",onClick:()=>{n("map")}})]})}):(0,r.jsxs)("div",{className:"prose mx-auto max-w-lg px-4 pt-5",children:[(0,r.jsx)("p",{children:"We're sorry, but we're having trouble loading volunteer shifts right now. Click below to try again."}),(0,r.jsx)(i.$,{className:"w-full",type:"button",disabled:"loading"===u,onClick:a,children:"Retry"})]})}var N=s(16265),k=s(89236),S=s(18380),C=s(93192);let E={...S.A,sources:{...S.A.sources},layers:[...S.A.layers]};function A(e){let{onClick:t,interactive:s,selectedBorough:n,selected:a,data:i}=e,o=(0,l.useRef)(null),c=(0,l.useRef)(a),d=(0,l.useMemo)(()=>{if(!a.length)return{latitude:37.78,longitude:-122.4,latitude:40.74,longitude:-73.97,zoom:9.5};{let[e,t,s,r]=(0,k.A)({...i,features:i.features.filter(e=>a.includes(e.properties.name))});return{bounds:[[e,t],[s,r]],fitBoundsOptions:{padding:10}}}},[s]);return(0,l.useEffect)(()=>{o.current&&d.bounds&&o.current.fitBounds(d.bounds,d.fitBoundsOptions)},[s]),(0,l.useEffect)(()=>{let e;if(a.length===i.features.length?e=i:a.length===c.current.length+1&&(e=i.features.find(e=>e.properties.name===a[a.length-1])),e){var t;let[s,r,n,a]=(0,k.A)(e);null===(t=o.current)||void 0===t||t.fitBounds([[s,r],[n,a]],{padding:10,duration:1e3})}c.current=a},[a]),(0,l.useEffect)(()=>{if(!n[0]||!o.current)return;let e={...i,features:i.features.filter(e=>e.properties.borough===n[0])},[t,s,r,a]=(0,k.A)(e);o.current.fitBounds([[t,s],[r,a]],{padding:10,duration:1e3})},[n]),(0,r.jsx)(N.Ay,{ref:o,initialViewState:d,style:{width:"100%",height:"100%"},mapStyle:E,interactiveLayerIds:["nyc-neighborhoods-fill"],onClick:s?t:void 0,mapboxAccessToken:"pk.eyJ1IjoicGRpdHpsZXIiLCJhIjoiY21menRmdHRuMDY3MzJrb2xrOTlzNThmdCJ9.R4fXtCpMZHeZJnifCv2ISg",attributionControl:!1,logoPosition:"bottom-right",children:(0,r.jsx)(C.A,{data:i,pins:h.Jm})})}function O(e){let{onStepChange:t}=e,s=h.tg.use.setRegions();return(0,r.jsxs)("div",{className:"min-h-screen theme-default bg-background text-foreground pb-12",children:[(0,r.jsx)("header",{className:"relative bg-blue",children:(0,r.jsx)("h1",{className:"flex justify-center overflow-hidden",children:(0,r.jsxs)("picture",{className:"w-screen xs:w-[280vw] md:w-[250vw] lg:w-[220vw] xl:w-[180vw] 2xl:w-screen shrink-0",children:[(0,r.jsx)("source",{media:"(min-width: 480px)",srcSet:"/static/images/gotv-heading-wide.svg",width:"1798",height:"415"}),(0,r.jsx)("img",{width:"390",height:"375",className:"w-full h-auto",src:"/static/images/gotv-heading-mobile.svg",alt:"Get Out the Vote for Zohran"})]})})}),(0,r.jsxs)("section",{className:"text-foreground py-12 px-3 xs:px-6",children:[(0,r.jsx)("div",{className:"prose theme-default text-start mx-auto max-w-md",children:(0,r.jsxs)("p",{children:["We need YOU to get your neighbors out to vote for Zohran! Our movement has to win big on November 4th to have the strength to pass our affordability agenda. Sign up for our final stretch shifts now and we'll send you where we need the most help. Once youâ€™ve submitted, ",(0,r.jsx)("strong",{children:"consider yourself confirmed!"})," We will send you the exact meetup location closer to the canvass."]})}),(0,r.jsxs)("div",{className:"pt-12 pb-4",children:[(0,r.jsx)("div",{className:"prose text-center mb-4 xs:mb-5 mx-auto",children:(0,r.jsx)("h2",{children:"Where can you canvass?"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 items-center justify-items-center gap-4 xs:gap-6 max-w-screen-md mx-auto px-0 xs:px-3",children:[(0,r.jsx)("div",{className:"w-full max-w-sm relative",children:(0,r.jsx)("button",{className:"rounded-none theme-default flex items-center w-full group/push isolate relative before:w-full before:h-full before:absolute before:z-[-1] before:bg-accent before:rounded-none before:top-[4px] before:left-[-4px]",onClick:()=>{s(h.Y$.features.map(e=>e.properties.name)),t("shifts")},children:(0,r.jsx)("span",{className:"overflow-hidden will-change-transform transition-transform border-2 border-primary text-primary bg-background duration-300 ease-out max-w-full grow relative justify-center py-5 px-6 flex  rounded-none group-pressed/push:translate-y-[4px] group-pressed/push:translate-x-[-3px] group-hover/push:translate-y-[4px] group-hover/push:translate-x-[-4px] text-center",children:(0,r.jsxs)("span",{className:"flex flex-col items-center relative",children:[(0,r.jsx)("span",{className:"heading-text text-h3 mb-3 text-balance",children:"I'll go wherever I am needed!"}),(0,r.jsx)("span",{className:(0,i.r)({variant:"secondary",className:"pointer-events-none"}),children:"Send me anywhere!"})]})})})}),(0,r.jsx)("button",{className:"rounded-none max-w-sm theme-default flex items-center w-full group/push isolate relative before:w-full before:h-full before:absolute before:z-[-1] before:bg-accent before:rounded-none before:top-[4px] before:left-[-4px]",onClick:()=>{t("map")},children:(0,r.jsx)("span",{className:"overflow-hidden will-change-transform transition-transform border-2 border-primary text-primary bg-background duration-300 ease-out max-w-full grow relative justify-center py-5 px-6 flex  rounded-none group-pressed/push:translate-y-[4px] group-pressed/push:translate-x-[-3px] group-hover/push:translate-y-[4px] group-hover/push:translate-x-[-4px] text-start zpe-[20%]",children:(0,r.jsxs)("span",{className:"flex flex-col items-center text-center relative",children:[(0,r.jsx)("span",{className:"heading-text text-h3 mb-3 text-balance",children:"I want to pick specific areas"}),(0,r.jsx)("span",{className:(0,i.r)({variant:"primary"}),children:"Find a canvass"})]})})})]})]})]}),(0,r.jsx)("section",{className:"px-3 xs:px-6 pb-12",children:(0,r.jsx)("div",{className:"max-w-lg mx-auto theme-default",children:(0,r.jsxs)("div",{className:"prose text-center mx-auto mb-3",children:[(0,r.jsx)("h2",{children:"Don't live in NYC?"}),(0,r.jsx)("a",{className:(0,i.r)({variant:"outline",className:"not-prose"}),href:"https://volunteer.zohranfornyc.com/phonebanking",children:"Sign up to phone bank"})]})})}),(0,r.jsx)("section",{className:"px-3 xs:px-6",children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto theme-default",children:[(0,r.jsx)("div",{className:"prose text-center mx-auto mb-3",children:(0,r.jsx)("h2",{children:"FAQs"})}),(0,r.jsx)("div",{className:"",children:(0,r.jsxs)(g.nD,{type:"multiple",className:"w-full theme-default bg-background",defaultValue:["item-1","item-2"],children:[(0,r.jsxs)(g.As,{value:"item-1",children:[(0,r.jsx)(g.$m,{className:"heading-text text-h3 text-balance",children:"Can I bring a friend?"}),(0,r.jsx)(g.ub,{animated:!0,className:"pb-2",children:(0,r.jsx)("p",{children:"Absolutely! Bring three friends! All are welcome at our canvasses and no experience is required."})})]}),(0,r.jsxs)(g.As,{value:"item-2",className:"border-t-2 border-primary",children:[(0,r.jsx)(g.$m,{className:"heading-text text-h3 text-balance",children:"Will there be training?"}),(0,r.jsx)(g.ub,{animated:!0,className:"pb-2",children:(0,r.jsx)("p",{children:"Yes! All of our canvasses begin with a training and if you are new you will be partnered with another canvasser. No experience required!"})})]})]})})]})})]})}function R(){let e=h.tg.use.loadShifts(),t=h.tg.use.allShifts();return(0,l.useEffect)(()=>{(null==t?void 0:t.length)||e()},[t,e]),null}function B(e){let{embedUrl:t,step:s,onStepChange:u,onBack:m}=e,p=(0,l.useRef)(!1),f=(0,l.useRef)(null),g=h.tg.use.selectedRegions(),b=h.tg.use.setRegions(),j=h.tg.use.addRegions(),y=h.tg.use.removeRegions(),[N,k]=(0,l.useState)([]),S=(0,l.useMemo)(()=>({...h.Y$,features:h.Y$.features.map(e=>({...e,properties:{...e.properties,selected:g.includes(e.properties.name)?1:0}}))}),[g]),[C,E]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>{E(window.scrollY>0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.useEffect)(()=>{f.current&&f.current.focus()},[s]),(0,r.jsxs)(r.Fragment,{children:["where"!==s&&"confirm"!==s&&(0,r.jsxs)("section",{className:"min-h-screen flex flex-col md:w-1/2 md:max-w-sm",children:[(0,r.jsxs)("header",{className:(0,c.cn)("sticky w-full flex items-center justify-center h-12 px-8 bg-background py-3 text-center border-b border-b-grey md:h-16 z-30 top-0"),children:[(0,r.jsx)("nav",{className:"absolute left-0 top-0",children:(0,r.jsxs)("button",{className:"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-inset focus-visible:ring-offset-0 border-0 rounded-none size-12 group md:h-16 justify-start p-0 ps-1 pb-0.5 h-12 hover:bg-transparent text-primary hover:text-primary",onClick:m,children:[(0,r.jsx)("span",{className:"sr-only",children:"Back"}),(0,r.jsx)(o.A,{className:"rotate-90 !size-8 group-hover:scale-110 transition-transform duration-300 ease-out group-hover:will-change-transform","aria-hidden":"true"})]})}),(0,r.jsx)(n.N,{mode:"popLayout",children:(0,r.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,r.jsx)("h2",{tabIndex:-1,ref:f,className:"focus-visible:outline-none text-[1.4rem] 2xs:text-[1.5rem] whitespace-nowrap",children:"shifts"===s?"Sign up for shifts below":"Where can you canvass?"})},s)})]}),(0,r.jsxs)("div",{className:(0,c.cn)("w-full h-[40vh] shrink-0 md:fixed md:top-0 md:w-[calc(100%-24rem)] md:h-screen md:right-0 z-10","map"===s?"sticky top-12":"relative"),children:["map"===s?(0,r.jsx)("div",{className:(0,c.cn)("absolute top-full left-0 w-full bg-gradient-to-b from-primary/50 md:hidden pointer-events-none transition duration-300 ease-out h-0.5 bg-primary",!C&&"opacity-0"),style:{boxShadow:"0px 0px 8px 6px rgba(0,0,0,0.4)"}}):null,(0,r.jsx)("div",{id:"map-container",className:(0,c.cn)("absolute inset-0 w-full h-full overflow-hidden"),children:(0,r.jsx)(A,{interactive:"map"===s,selectedBorough:N,onClick:e=>{var t,s;let r=null===(t=e.features)||void 0===t?void 0:t[0],n=null==r?void 0:null===(s=r.properties)||void 0===s?void 0:s.name;n&&(p.current=!0,g.includes(n)?y([n]):j([n]))},selected:g,data:S})})]}),(0,r.jsx)("div",{className:"grow shrink-0 bg-background pb-4 md:pb-0",children:(0,r.jsx)(n.N,{mode:"popLayout",children:(0,r.jsxs)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:["map"===s&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u("shifts")},children:[(0,r.jsxs)("div",{className:"px-4 pt-6",children:[(0,r.jsx)(d.E,{pushable:!0,size:"lg",className:"w-full",variant:"secondary",label:"SEND ME ANYWHERE!!!",onClick:()=>{j(S.features.map(e=>e.properties.name)),u("shifts")}}),(0,r.jsx)("div",{className:"caption before:h-0.5 after:h-0.5 before:bg-current after:bg-current flank-rules text-grey text-center pt-4 pb-3",children:(0,r.jsx)("span",{className:"text-primary",children:"OR"})}),(0,r.jsx)("p",{children:"Select your preferred neighborhoods below or by clicking on the map."})]}),(0,r.jsx)("div",{className:"overflow-x-hidden px-4",children:(0,r.jsx)(v,{mobile:!0,options:S.features,onBoroughSelect:e=>{k([e]),p.current=!0},selected:g,onChange:e=>{b(e)}})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(i.$,{size:"lg",type:"submit",disabled:0===g.length,className:(0,c.cn)("w-full "),children:"Continue"})})]})}),"shifts"===s&&(0,r.jsx)(w,{selected:g,onSubmit:e=>{e.preventDefault(),u("confirm")},onStepChange:e=>u(e)})]},s)})})]}),"confirm"===s&&(0,r.jsx)(x,{embedUrl:t,onStepChange:u,onBackClick:m,scrolledDown:C})]})}s(22332);let z={map:"index",shifts:"map",confirm:"shifts"};function L(e){let{embedUrl:t}=e,[s,n]=(0,l.useState)("index");return(0,l.useLayoutEffect)(()=>{window.scrollTo(0,0)},[s]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{fullTitle:"Get Out The Vote for Zohran | Zohran for NYC",seo:{title:"Get Out The Vote for Zohran",description:"We need YOU to get your neighbors out to vote for Zohran! Our movement has to win big on November 4th to have the strength to pass our affordability agenda. Sign up for our final stretch shifts now and we'll send you where we need the most help."}}),(0,r.jsx)(R,{}),"index"===s?(0,r.jsx)(O,{onStepChange:n}):(0,r.jsx)(B,{step:s,onStepChange:n,embedUrl:t,onBack:()=>{n(z[s]||"index")}})]})}},22332:()=>{}}]);