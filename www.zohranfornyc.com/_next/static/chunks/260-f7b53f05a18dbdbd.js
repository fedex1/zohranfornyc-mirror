"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[260],{20260:(e,t,s)=>{s.d(t,{A:()=>H});var a=s(62540),n=s(31965),r=s(58793),i=s(3606),l=s(63696),o=s(32212),c=s(57829),d=s(5466),h=s(64382),u=s(83844),m=s(39148),p=s(72831);function f(e){let{onBackClick:t,onStepChange:s,scrolledDown:n,embedUrl:r}=e,{query:d}=(0,p.useRouter)(),u=h.tg.use.selectedRegions(),f=h.tg.use.selectedShifts(),x=h.tg.use.regions(),g=h.tg.use.allShifts(),b=h.tg.use.setReferralCode(),v=h.tg.use.handleFormSubmission(),[j,y]=(0,l.useState)(!1),w=(0,l.useMemo)(()=>{let e=x.length===u.length,t=x.reduce((e,t)=>(e[t.properties.borough]=e[t.properties.borough]||{checked:!1,name:t.properties.borough,options:[]},e[t.properties.borough].options.push(t.properties.name),e),{}),s=[];return e?s.push("Anywhere!!!"):Object.values(t).forEach(e=>{if(e.options.every(e=>u.includes(e)))s.unshift("Bronx"===e.name?"The Bronx":e.name);else{let t=e.options.filter(e=>u.includes(e));s.push(...t)}}),{where:s,when:Object.entries(f.reduce((e,t)=>{let s=g.find(e=>t===e.id);return s&&e.push({date:s.date,datetime:s.datetime,id:t}),e},[]).sort((e,t)=>e.datetime-t.datetime).reduce((e,t)=>{var s;let a=t.id.match(/([A-Za-z]+ \d{1,2}(?:st|nd|rd|th))/);if(!a)return e;let n=a[1],r=null===(s=t.id.split(a[0])[1])||void 0===s?void 0:s.trim();return e[n]||(e[n]={date:"".concat(t.datetime.toLocaleDateString("en-US",{weekday:"long",timeZone:"America/New_York"}),", ").concat(n),times:[]}),e[n].times.push({id:t.id,time:r}),e},{})).map(e=>{let[t,s]=e;return{date:s.date,times:s.times,id:t}})}},[x,g,u,f]),N=(0,l.useMemo)(()=>{let e=new URLSearchParams;if(d){for(let[t,s]of("string"==typeof d.r&&e.set("r",d.r.trim()),Object.entries(d)))t.startsWith("utm_")&&"string"==typeof s&&e.set(t,s);d.debug&&e.set("debug","true")}return u.length===x.length?e.set("region","SEND ME ANYWHERE!"):u.forEach(t=>{e.append("region",t)}),f.forEach(t=>{e.append("shift",t)}),"".concat(r||"https://volunteer.zohranfornyc.com/big-birthday-weekend/embed","?").concat(e.toString())},[d,x,u,f]),k=(0,l.useRef)(null);(0,l.useEffect)(()=>{k.current&&k.current.focus()},[]);let S=(0,l.useRef)(null),C=(0,l.useCallback)(e=>{if("solidarity-gotv-sync:ready"===e.data.type&&S.current){let{selectedRegions:e,selectedShifts:t,regions:s}=h.tg.getState(),a=[...e];e.length===s.length&&(a=["SEND ME ANYWHERE!"]),S.current.sendMessage({type:"solidarity-gotv-sync:update",regions:a,shifts:t})}else if("SOLIDARITY_THANKYOUPAGE"===e.data.type)v(),y(!0);else if("solidarity-share-url-init"===e.data.type&&e.data.url){let t=new URL(e.data.url).searchParams.get("r");t&&b(t)}},[]);return(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsxs)("header",{className:(0,c.cn)("sticky w-full h-12 md:h-16 border-b flex items-center justify-center z-10 top-0 bg-background py-3 mb-2 text-center","border-b-grey"),children:[j?null:(0,a.jsx)("nav",{className:"absolute left-0 top-0",children:(0,a.jsxs)(i.$,{className:"size-12 md:h-16 justify-start p-0 ps-1 pb-0.5 h-12 hover:bg-transparent text-primary hover:text-primary border-0",variant:"ghost",onClick:t,children:[(0,a.jsx)("span",{className:"sr-only",children:"Back"}),(0,a.jsx)(o.A,{className:"rotate-90 !size-8","aria-hidden":"true"})]})}),(0,a.jsx)("h2",{tabIndex:-1,ref:k,className:"focus-visible:outline-none text-[1.4rem] 2xs:text-[1.5rem]",children:j?"Thank you!":"Confirmation"})]}),(0,a.jsxs)("div",{className:"px-6 pt-4 items-start max-w-lg mx-auto",children:[(0,a.jsx)("div",{className:"prose mb-6",children:j?(0,a.jsxs)("p",{children:["Consider yourself confirmed. We’ll send your neighborhood confirmation soon, and the exact meetup location 24 hours before your shift",f.length>1?"s":"",". We can’t wait to see you there!"]}):(0,a.jsxs)("p",{children:["Finish signing up below. Once you’ve submitted,"," ",(0,a.jsx)("strong",{children:"consider yourself confirmed"})," in"," ",1===u.length?u[0]:"one of the regions you selected","! We will follow up to send you more details about your shift",f.length>1?"s":"",", and the exact meetup location will be sent closer to the canvass."]})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("h3",{className:"caption leading-none",children:"Where"}),j?null:(0,a.jsxs)("button",{className:"text-primary underline text-sm leading-none",onClick:()=>s("map"),children:["Change ",(0,a.jsx)("span",{className:"sr-only",children:"locations"})]})]}),(0,a.jsx)("ul",{className:"block whitespace-pre-wrap mb-6",children:w.where.map((e,t)=>(0,a.jsx)("li",{className:(0,c.cn)("inline",t<w.where.length-1&&'after:content-[",_"]'),children:e},t))}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"caption leading-none",children:"When"}),j?null:(0,a.jsxs)("button",{className:"text-primary underline text-sm leading-none",onClick:()=>s("shifts"),children:["Change ",(0,a.jsx)("span",{className:"sr-only",children:"shifts"})]})]}),(0,a.jsx)("div",{className:"prose",children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{className:"sr-only",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Date"}),(0,a.jsx)("th",{children:"Shifts"})]})}),(0,a.jsx)("tbody",{children:w.when.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"text-base w-1/2",children:e.date}),(0,a.jsx)("td",{className:"text-base",children:(0,a.jsx)("ul",{className:"not-prose text-end",children:e.times.map(e=>(0,a.jsx)("li",{children:e.time},e.time))})})]},t))})]})})]}),(0,a.jsx)("div",{className:"w-full max-w-lg mx-auto",children:(0,a.jsx)(m.s,{ref:S,src:N,onMessage:C})})]})}var x=s(31521),g=s(8958),b=s(43686);function v(e){let{options:t,onBoroughSelect:s,selected:n,onChange:r,mobile:i}=e;n.length,t.length;let c=(0,l.useRef)([]),[d,h]=(0,l.useState)([]),u=(0,l.useRef)(d[0]),m=(0,l.useRef)({}),p=(0,l.useMemo)(()=>{let e=t.reduce((e,t)=>(e[t.properties.borough]=e[t.properties.borough]||{checked:!1,name:t.properties.borough,options:[]},e[t.properties.borough].options.push(t.properties.name),e),{});return Object.values(e).forEach(e=>{e.checked=!e.options.find(e=>!n.includes(e)),e.indeterminate=!e.checked&&!!e.options.find(e=>n.includes(e))}),e},[t,n]),f=l.useCallback(e=>{e&&(m.current[e.dataset.key]=e)},[m]);return(0,l.useEffect)(()=>{let e=d[0];u.current=e;let t=e?m.current[e]:void 0,s=document.getElementById("map-container");t&&t.offsetParent&&s&&requestAnimationFrame(()=>{let e=Math.round(t.offsetTop-(48+s.clientHeight));window.scrollTo({left:0,top:e,behavior:"smooth"})})},[d]),(0,l.useEffect)(()=>{if(n.length===c.current.length+1){let e=n[n.length-1],s=t.find(t=>t.properties.name===e);s&&s.properties.borough!==u.current&&h([s.properties.borough])}c.current=n},[n,t]),(0,a.jsx)("div",{className:"-mx-4",children:(0,a.jsx)(g.nD,{type:"single",collapsible:!0,value:d[0],onValueChange:e=>{h([e])},className:"flex flex-col","data-className":"overflow-auto px-4 md:space-y-3 flex items-start space-x-3 md:space-x-0 md:flex-col md:items-stretch",children:["Bronx","Brooklyn","Manhattan","Queens","Staten Island"].map(e=>{if(1===p[e].options.length){let t=p[e].options[0];return(0,a.jsxs)(b.J,{className:"heading-text text-2xl flex items-center space-x-3 p-3 ps-4 border-b-2 last:border-b-0 border-primary flex-none whitespace-nowrap",children:[(0,a.jsx)(x._,{value:t,name:"region",checked:n.includes(t),onCheckedChange:e=>{e?r([...n,t]):r(n.filter(e=>e!==t))},size:"lg"}),(0,a.jsx)("span",{children:t})]},e)}return(0,a.jsxs)(g.As,{value:e,id:e,"data-key":e,ref:f,className:"group border-b-2 last:border-b-0 border-primary flex-none whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(b.J,{className:"p-3 ps-4 heading-text text-2xl flex items-center whitespace-nowrap",children:[(0,a.jsx)(x._,{name:"borough",value:e,size:"lg",checked:p[e].indeterminate?"indeterminate":p[e].checked,onCheckedChange:t=>{let a=[...n];t?(d.includes(e)||h([e]),p[e].options.forEach(e=>{a.includes(e)||a.push(e)}),s(e)):p[e].options.forEach(e=>{a.includes(e)&&(a=a.filter(t=>t!==e))}),r(a)}},e),(0,a.jsxs)("span",{className:"sr-only",children:["All regions in"," ","Bronx"===e?"The Bronx":e]})]}),(0,a.jsx)(g.$m,{chevron:(0,a.jsx)(o.A,{className:"w-6 h-6 transition-transform duration-200 -rotate-90 group-data-[state=open]:-rotate-180 motion-safe:transition-transform","aria-hidden":"true"}),className:"p-4 ps-0 heading-text self-stretch text-2xl whitespace-nowrap grow flex items-center justify-between text-primary",children:"Bronx"===e?"The Bronx":e})]}),(0,a.jsx)(g.ub,{disableAnimation:!0,className:"ps-7 pb-3",children:p[e].options.map(e=>(0,a.jsxs)(b.J,{className:"flex items-center space-x-3 min-h-11 xs:text-lg",children:[(0,a.jsx)(x._,{name:"region",value:e,checked:n.includes(e),onCheckedChange:t=>{t?r([...n,e]):r(n.filter(t=>t!==e))}},e),(0,a.jsx)("span",{children:e})]},e))})]},e)})})})}var j=s(92104),y=s(59379);let w=l.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsx)(y.bL,{className:(0,c.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(y.zi,{className:(0,c.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"),children:n})})});function N(e){let{date:t,selectedShifts:s,addShifts:n,removeShifts:r}=e,i=(0,l.useId)(),o=s.length===t.times.length;return(0,a.jsxs)("div",{role:"group","aria-labelledby":t.dayLabel,className:(0,c.cn)("relative py-1.5 grid grid-cols-[1fr_3fr] items-center caption text-primary","transition-colors duration-300 ease-out w-full","border-0 min-h-24",s.length===t.times.length?"theme-blue bg-background text-primary border-primary z-[1]":"bg-background"),children:[(0,a.jsx)("div",{id:i,className:"px-3 pt-2 self-start",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-start whitespace-nowrap text-primary caption text-center",children:[(0,a.jsx)("span",{className:"caption text-center text-primary",children:t.day}),(0,a.jsx)("span",{className:"h2 text-center",children:t.dayNumber}),(0,a.jsx)("span",{className:"caption text-center text-primary mt-0.5",children:t.month}),t.times.length<=1?(0,a.jsx)(j.bL,{name:"date",id:i+"-all-day",value:t.dayLabel,checked:!!o||s.length>0&&"indeterminate",onCheckedChange:e=>{e?n(t.times.map(e=>e.value)):r(s)},tabIndex:-1,className:"absolute inset-0 w-full h-full focus-visible:ring-offset-2 focus-visible:ring-inset focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-secondary focus-visible:ring-primary"}):(0,a.jsx)(w,{id:i+"-all-day",tabIndex:-1,name:"date",value:t.dayLabel,checked:o,onCheckedChange:e=>{e?n(t.times.map(e=>e.value)):r(s)},className:"data-[state=unchecked]:bg-grey data-[state=checked]:bg-secondary mt-2 theme-default text-primary",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5",children:[(0,a.jsx)("path",{d:"M12 6v6l4 2",className:(0,c.cn)("transition-opacity",!o&&"opacity-0")}),(0,a.jsx)("path",{d:"M12 6v6H8",className:(0,c.cn)("transition-opacity",o&&"opacity-0")})]})})]})}),(0,a.jsx)(b.J,{className:"absolute inset-0 cursor-pointer",htmlFor:i+"-all-day",children:(0,a.jsxs)("span",{className:"sr-only",children:["All day on ",t.dayLabel]})}),(0,a.jsxs)("ul",{className:"relative w-full",children:[t.times.length>1&&(0,a.jsx)("li",{children:(0,a.jsxs)(b.J,{className:"flex items-center space-x-3 ms-3 px-3 h-11",children:[(0,a.jsx)(x._,{name:"date",value:t.dayLabel,checked:o,onCheckedChange:e=>{e?n(t.times.map(e=>e.value)):r(s)}}),(0,a.jsx)("span",{children:"All day!"})]})}),t.times.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)(b.J,{className:"flex items-center space-x-3 ms-3 px-3 h-11",children:[(0,a.jsx)(x._,{name:"shift",value:e.value,checked:s.includes(e.value),onCheckedChange:t=>{t?n([e.value]):r([e.value])}}),(0,a.jsx)("span",{children:e.time.split(" - ")[0]})]})},e.value))]})]})}function k(e){let{selected:t,onSubmit:s,onStepChange:n}=e,r=h.tg.use.loadShifts(),o=h.tg.use.allShifts(),u=h.tg.use.fetchStatus(),m=h.tg.use.availableShifts(),p=h.tg.use.selectedShifts(),f=h.tg.use.addShifts(),x=h.tg.use.removeShifts(),g=h.tg.use.selectedRegions(),b=h.tg.use.regions(),v=(0,l.useMemo)(()=>g.length===b.length,[g,b]),j=(0,l.useMemo)(()=>{let e=m.map(e=>o.find(t=>e===t.id)).filter(Boolean).sort((e,t)=>e.datetime.getTime()-t.datetime.getTime()).reduce((e,t)=>{let s=t.date,a=t.time;return e[s]||(e[s]={times:[],day:t.day,date:t.cal,dayNumber:t.datetime.toLocaleDateString("en-US",{day:"numeric",timeZone:"America/New_York"}),month:t.datetime.toLocaleDateString("en-US",{month:"short",timeZone:"America/New_York"}),dayLabel:null==t?void 0:t.datetime.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",timeZone:"America/New_York"})}),e[s].times.push({value:t.id,time:a}),e},{}),t=[{name:"Birthday Week Continues!",dates:["Oct 20","Oct 21","Oct 22","Oct 23","Oct 24"]},{name:"First Weekend of Early Voting",dates:["Oct 25","Oct 26"]},{name:"Weekday Canvasses",dates:["Oct 27","Oct 28","Oct 29","Oct 30","Oct 31"]},{name:"Last Weekend of Early Voting",dates:["Nov 1","Nov 2"]},{dates:["Nov 3"]},{name:"Election Day!",dates:["Nov 4"]}];return Object.values(e).forEach(e=>{let s=t.find(t=>t.dates.includes(e.date));s&&(s.shifts||(s.shifts=[]),s.shifts.push(e))}),t.filter(e=>{var t;return(null===(t=e.shifts)||void 0===t?void 0:t.length)>0})},[m,o]);return"error"!==u&&(null==o?void 0:o.length)?j.length?(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsx)("div",{className:"prose mx-auto max-w-lg px-4 pt-5 mb-4",children:(0,a.jsxs)("p",{children:[v?"Thank you for signing up to canvass where you are most needed in the five boroughs! We will send you to the most strategic canvass location for the shift(s) you sign up for.":null," ","Let us know what days and times work for you!"]})}),(0,a.jsx)("div",{className:"pb-2 overflow-hidden pt-0.5 px-0",children:j.map((e,t)=>(0,a.jsxs)("div",{className:"bg-grey space-y-0.5 border-t-2 last:border-b-2 border-grey",children:[e.name?(0,a.jsx)("h3",{className:(0,c.cn)("-mx-2 z-10 -mb-0.5 -mt-1 relative bg-accent flex items-center justify-center text-center text-accent-foreground py-2.5 pe-4 caption -ms-3 px-4"),children:e.name}):null,e.shifts.map((e,t)=>(0,a.jsx)(N,{date:e,selectedShifts:e.times.filter(e=>p.includes(e.value)).map(e=>e.value),addShifts:f,removeShifts:x},t))]},t))}),(0,a.jsx)("div",{className:"p-4 pb-12",children:(0,a.jsx)(i.$,{size:"lg",type:"submit",disabled:0===p.length,className:(0,c.cn)("w-full transition ease-out duration-300"),children:"Continue"})})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"prose mx-auto max-w-lg px-4 pt-5",children:[(0,a.jsx)("p",{children:"We're sorry, there are no shifts available here right now. Check back soon, or try a different location."}),(0,a.jsx)(d.E,{variant:"primary",size:"lg",className:"w-full mt-3",label:"Change location",onClick:()=>{n("map")}})]})}):(0,a.jsxs)("div",{className:"prose mx-auto max-w-lg px-4 pt-5",children:[(0,a.jsx)("p",{children:"We're sorry, but we're having trouble loading volunteer shifts right now. Click below to try again."}),(0,a.jsx)(i.$,{className:"w-full",type:"button",disabled:"loading"===u,onClick:r,children:"Retry"})]})}w.displayName=y.bL.displayName;var S=s(16265),C=s(89236),E=s(18380),A=s(93192);let R={...E.A,sources:{...E.A.sources},layers:[...E.A.layers]};function z(e){let{onClick:t,interactive:s,selectedBorough:n,selected:r,data:i}=e,o=(0,l.useRef)(null),c=(0,l.useRef)(r),d=(0,l.useMemo)(()=>{if(!r.length)return{latitude:37.78,longitude:-122.4,latitude:40.74,longitude:-73.97,zoom:9.5};{let[e,t,s,a]=(0,C.A)({...i,features:i.features.filter(e=>r.includes(e.properties.name))});return{bounds:[[e,t],[s,a]],fitBoundsOptions:{padding:10}}}},[s]);return(0,l.useEffect)(()=>{o.current&&d.bounds&&o.current.fitBounds(d.bounds,d.fitBoundsOptions)},[s]),(0,l.useEffect)(()=>{let e;if(r.length===i.features.length?e=i:r.length===c.current.length+1&&(e=i.features.find(e=>e.properties.name===r[r.length-1])),e){var t;let[s,a,n,r]=(0,C.A)(e);null===(t=o.current)||void 0===t||t.fitBounds([[s,a],[n,r]],{padding:10,duration:1e3})}c.current=r},[r]),(0,l.useEffect)(()=>{if(!n[0]||!o.current)return;let e={...i,features:i.features.filter(e=>e.properties.borough===n[0])},[t,s,a,r]=(0,C.A)(e);o.current.fitBounds([[t,s],[a,r]],{padding:10,duration:1e3})},[n]),(0,a.jsx)(S.Ay,{ref:o,initialViewState:d,style:{width:"100%",height:"100%"},mapStyle:R,interactiveLayerIds:["nyc-neighborhoods-fill"],onClick:s?t:void 0,mapboxAccessToken:"pk.eyJ1IjoicGRpdHpsZXIiLCJhIjoiY21menRmdHRuMDY3MzJrb2xrOTlzNThmdCJ9.R4fXtCpMZHeZJnifCv2ISg",attributionControl:!1,logoPosition:"bottom-right",children:(0,a.jsx)(A.A,{data:i,pins:h.Jm})})}var O=s(56749),L=s.n(O),B=s(7623),W=s(88209),M=s.n(W),T=s(48653),Y=s(82877);let I=[{src:"/static/gotv/header-frame-1.png",width:3264,height:816},{src:"/static/gotv/header-frame-2.png",width:2313,height:816},{src:"/static/gotv/header-frame-3.png",width:4014,height:816},{src:"/static/gotv/header-frame-4.png",width:3882,height:816},{src:"/static/gotv/header-frame-5.png",width:4065,height:816},{src:"/static/gotv/header-frame-6.png",width:3267,height:816}].map(e=>({...e,sizes:"".concat(340*(e.width/e.height),"px")})),_=L()(()=>Promise.all([s.e(2707),s.e(5467)]).then(s.bind(s,85467)),{loadableGenerated:{webpack:()=>[85467]},ssr:!1}),D=e=>{let{playing:t}=e,s=(0,l.useRef)(null),[n,r]=(0,l.useState)(0);return(0,l.useLayoutEffect)(()=>{let e=s.current;if(!e)return;let t=new ResizeObserver(e=>{for(let t of e)r(t.contentRect.height)});return t.observe(e),()=>{t.disconnect()}},[]),(0,a.jsx)("div",{className:"absolute inset-0 w-full h-full",ref:s,children:n>0&&(0,a.jsx)(B.A,{speed:1.5,playState:t?"playing":"paused",className:"absolute inset-0 w-full h-full flex items-stretch",children:(0,a.jsx)("div",{className:"h-full flex items-stretch min-h-full shrink-0 self-stretch max-w-none",children:I.map((e,t)=>{let s=n*(e.width/e.height);return(0,a.jsx)(M(),{src:e.src,width:e.width,height:e.height,sizes:"".concat(s,"px"),style:{height:"".concat(n,"px"),width:"".concat(s,"px")},loading:t>0?"lazy":"eager",className:"max-w-none shrink-0 flex-none object-cover",alt:""},e.src)})})})})};function Z(){let[e,t]=(0,l.useState)(!0);return(0,l.useRef)(null),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"relative bg-blue py-6 px-12 group",children:[(0,a.jsx)(D,{playing:e}),(0,a.jsxs)("div",{className:"relative max-w-xs w-full mx-auto",children:[(0,a.jsx)("div",{className:"absolute inset-0",children:(0,a.jsx)(_,{playState:e?"playing":"paused",src:"/static/gotv/gotv-twinkle.riv"})}),(0,a.jsx)("div",{style:{paddingBottom:"90.90909%",position:"relative"}}),(0,a.jsx)("h1",{className:"sr-only",children:"Get Out the Vote for Zohran"})]}),(0,a.jsxs)("button",{className:"absolute bottom-3 right-0 size-11 flex items-center justify-center z-10 text-white",onClick:()=>{t(!e)},children:[e?(0,a.jsx)(T.A,{className:"size-8","aria-hidden":"true"}):(0,a.jsx)(Y.A,{className:"size-8","aria-hidden":"true"}),(0,a.jsx)("span",{className:"sr-only",children:e?"Pause":"Play"})]})]}),(0,a.jsxs)("div",{className:"w-screen -mt-2 relative",children:[(0,a.jsx)("div",{style:{backgroundImage:"url('/static/gotv/wave-unit.svg')",backgroundRepeat:"repeat-x",backgroundSize:"31px 8px",backgroundPosition:"0",height:"8px"}}),(0,a.jsx)("div",{className:"w-full h-2 bg-white"})]})]})}function F(e){let{onStepChange:t}=e,s=h.tg.use.setRegions();return(0,a.jsxs)("div",{className:"min-h-screen theme-default bg-background text-foreground pb-12",children:[(0,a.jsx)(Z,{}),(0,a.jsx)("section",{className:"text-foreground pt-6 pb-8",children:(0,a.jsx)("div",{className:"prose theme-default mx-auto max-w-lg px-4 text-center",children:(0,a.jsx)("p",{children:"We need YOU to get your neighbors out to vote for Zohran! Our movement has to win big on November 4th to have the strength to pass our affordability agenda. Sign up for our final stretch shifts now and we'll send you where we need the most help."})})}),(0,a.jsx)("section",{className:"pb-12 px-3",children:(0,a.jsx)("div",{className:"flex flex-col items-center w-full max-w-sm mx-auto",children:(0,a.jsxs)("div",{className:"prose text-center mx-auto",children:[(0,a.jsx)("h2",{children:"Where can you canvass?"}),(0,a.jsx)("h3",{children:"I'll go wherever I am needed!"}),(0,a.jsx)(d.E,{variant:"secondary",size:"lg",className:"w-full",pushable:!0,label:"Send me anywhere!",onClick:()=>{s(h.Y$.features.map(e=>e.properties.name)),t("shifts")}}),(0,a.jsx)("div",{className:"not-prose mt-7 self-stretch caption before:h-0.5 after:h-0.5 before:bg-current after:bg-current flank-rules text-grey text-center",children:(0,a.jsx)("span",{className:"",children:"OR"})}),(0,a.jsx)("h3",{className:"mt-6",children:"I want to pick specific areas."}),(0,a.jsx)(d.E,{variant:"primary",size:"lg",pushable:!0,className:"w-full",label:"Find a canvass",onClick:()=>{t("map")}})]})})}),(0,a.jsx)("section",{className:"px-3 xs:px-6 pb-12 pt-6",children:(0,a.jsx)("div",{className:"max-w-lg mx-auto theme-default",children:(0,a.jsxs)("div",{className:"mx-auto card theme-blue relative p-0",children:[(0,a.jsx)("div",{children:(0,a.jsx)(M(),{src:"/static/gotv/phonebank.png",width:2048,height:1360,alt:"Zohran phonebanking",sizes:"448px"})}),(0,a.jsxs)("div",{className:"prose text-center p-4 pb-6",children:[(0,a.jsx)("h2",{className:"h2",children:"Don't live in NYC?"}),(0,a.jsx)("a",{className:(0,i.r)({variant:"outline",className:"not-prose"}),href:"https://volunteer.zohranfornyc.com/phonebanking",children:"Sign up to phone bank"})]})]})})}),(0,a.jsx)("section",{className:"px-3 xs:px-6",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto theme-default",children:[(0,a.jsx)("div",{className:"prose text-center mx-auto mb-3",children:(0,a.jsx)("h2",{children:"FAQs"})}),(0,a.jsx)("div",{className:"",children:(0,a.jsxs)(g.nD,{type:"multiple",className:"w-full theme-default bg-background",defaultValue:["item-1","item-2"],children:[(0,a.jsxs)(g.As,{value:"item-1",children:[(0,a.jsx)(g.$m,{className:"heading-text text-h3 text-balance",children:"Can I bring a friend?"}),(0,a.jsx)(g.ub,{animated:!0,className:"pb-2",children:(0,a.jsx)("p",{children:"Absolutely! Bring three friends! All are welcome at our canvasses and no experience is required."})})]}),(0,a.jsxs)(g.As,{value:"item-2",className:"border-t-2 border-primary",children:[(0,a.jsx)(g.$m,{className:"heading-text text-h3 text-balance",children:"Will there be training?"}),(0,a.jsx)(g.ub,{animated:!0,className:"pb-2",children:(0,a.jsx)("p",{children:"Yes! All of our canvasses begin with a training and if you are new you will be partnered with another canvasser. No experience required!"})})]})]})})]})})]})}s(22332);var J=s(71756),U=s.n(J);function P(){let e=h.tg.use.loadShifts(),t=h.tg.use.allShifts();return(0,l.useEffect)(()=>{(null==t?void 0:t.length)||e()},[t,e]),null}function V(e){let{embedUrl:t,step:s,onStepChange:u,onBack:m}=e,p=(0,l.useRef)(!1),x=(0,l.useRef)(null),g=h.tg.use.selectedRegions(),b=h.tg.use.setRegions(),j=h.tg.use.addRegions(),y=h.tg.use.removeRegions(),[w,N]=(0,l.useState)([]),S=(0,l.useMemo)(()=>({...h.Y$,features:h.Y$.features.map(e=>({...e,properties:{...e.properties,selected:g.includes(e.properties.name)?1:0}}))}),[g]),[C,E]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>{E(window.scrollY>0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.useEffect)(()=>{x.current&&x.current.focus()},[s]),(0,a.jsxs)(a.Fragment,{children:["where"!==s&&"confirm"!==s&&(0,a.jsxs)("section",{className:"min-h-screen flex flex-col md:w-1/2 md:max-w-sm",children:[(0,a.jsxs)("header",{className:(0,c.cn)("sticky w-full flex items-center justify-center h-12 px-8 bg-background py-3 text-center border-b border-b-grey md:h-16 z-30 top-0"),children:[(0,a.jsx)("nav",{className:"absolute left-0 top-0",children:(0,a.jsxs)("button",{className:"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-inset focus-visible:ring-offset-0 border-0 rounded-none size-12 group md:h-16 justify-start p-0 ps-1 pb-0.5 h-12 hover:bg-transparent text-primary hover:text-primary",onClick:m,children:[(0,a.jsx)("span",{className:"sr-only",children:"Back"}),(0,a.jsx)(o.A,{className:"rotate-90 !size-8 group-hover:scale-110 transition-transform duration-300 ease-out group-hover:will-change-transform","aria-hidden":"true"})]})}),(0,a.jsx)(n.N,{mode:"popLayout",children:(0,a.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,a.jsx)("h2",{tabIndex:-1,ref:x,className:"focus-visible:outline-none text-[1.4rem] 2xs:text-[1.5rem] whitespace-nowrap",children:"shifts"===s?"Sign up for shifts below":"Where can you canvass?"})},s)})]}),(0,a.jsxs)("div",{className:(0,c.cn)("w-full h-[40vh] shrink-0 md:fixed md:top-0 md:w-[calc(100%-24rem)] md:h-screen md:right-0 z-10","map"===s?"sticky top-12":"relative"),children:["map"===s?(0,a.jsx)("div",{className:(0,c.cn)("absolute top-full left-0 w-full bg-gradient-to-b from-primary/50 md:hidden pointer-events-none transition duration-300 ease-out h-0.5 bg-primary",!C&&"opacity-0"),style:{boxShadow:"0px 0px 8px 6px rgba(0,0,0,0.4)"}}):null,(0,a.jsx)("div",{id:"map-container",className:(0,c.cn)("absolute inset-0 w-full h-full overflow-hidden"),children:(0,a.jsx)(z,{interactive:"map"===s,selectedBorough:w,onClick:e=>{var t,s;let a=null===(t=e.features)||void 0===t?void 0:t[0],n=null==a?void 0:null===(s=a.properties)||void 0===s?void 0:s.name;n&&(p.current=!0,g.includes(n)?y([n]):j([n]))},selected:g,data:S})})]}),(0,a.jsx)("div",{className:"grow shrink-0 bg-background pb-4 md:pb-0",children:(0,a.jsx)(n.N,{mode:"popLayout",children:(0,a.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:["map"===s&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u("shifts")},className:"block pt-6 px-4 pb-12",children:[(0,a.jsx)(d.E,{pushable:!0,size:"lg",className:"w-full",variant:"secondary",label:"SEND ME ANYWHERE!!!",onClick:()=>{j(S.features.map(e=>e.properties.name)),u("shifts")}}),(0,a.jsx)("div",{className:"caption before:h-0.5 after:h-0.5 before:bg-current after:bg-current flank-rules text-grey text-center pt-4 pb-3",children:"OR"}),(0,a.jsx)("p",{children:"Select your preferred neighborhoods below or by clicking on the map."}),(0,a.jsx)("div",{className:"overflow-x-hidden",children:(0,a.jsx)(v,{mobile:!0,options:S.features,onBoroughSelect:e=>{N([e]),p.current=!0},selected:g,onChange:e=>{b(e)}})}),(0,a.jsx)(i.$,{size:"lg",type:"submit",disabled:0===g.length,className:"w-full mt-4",children:"Continue"})]})}),"shifts"===s&&(0,a.jsx)(k,{selected:g,onSubmit:e=>{e.preventDefault(),u("confirm")},onStepChange:e=>u(e)})]},s)})})]}),"confirm"===s&&(0,a.jsx)(f,{embedUrl:t,onStepChange:u,onBackClick:m,scrolledDown:C})]})}let $={map:"index",shifts:"map",confirm:"shifts"};function H(e){let{embedUrl:t}=e,[s,n]=(0,l.useState)("index");return(0,l.useLayoutEffect)(()=>{window.scrollTo(0,0)},[s]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{children:[(0,a.jsx)(u.A,{fullTitle:"Get Out The Vote for Zohran | Zohran for NYC",seo:{title:"Get Out The Vote for Zohran",description:"We need YOU to get your neighbors out to vote for Zohran! Our movement has to win big on November 4th to have the strength to pass our affordability agenda. Sign up for our final stretch shifts now and we'll send you where we need the most help."}}),(0,a.jsxs)(U(),{children:[(0,a.jsx)("meta",{property:"og:image",content:"https://www.zohranfornyc.com/static/gotv/share.png"},"og:image"),(0,a.jsx)("meta",{property:"og:image:alt",content:"Get Out The Vote for Zohran"},"og:image:alt"),(0,a.jsx)("meta",{name:"twitter:image",content:"https://www.zohranfornyc.com/static/gotv/share-twitter.png"},"twitter:image"),(0,a.jsx)("meta",{name:"twitter:image:alt",content:"Get Out The Vote for Zohran"},"twitter:image:alt"),(0,a.jsx)("meta",{name:"twitter:image:width",content:"1200"},"twitter:image:width"),(0,a.jsx)("meta",{name:"twitter:image:height",content:"675"},"twitter:image:height"),(0,a.jsx)("meta",{property:"og:image:width",content:"1200"},"og:image:width"),(0,a.jsx)("meta",{property:"og:image:height",content:"630"},"og:image:height")]}),(0,a.jsx)(P,{}),"index"===s?(0,a.jsx)(F,{onStepChange:n}):(0,a.jsx)(V,{step:s,onStepChange:n,embedUrl:t,onBack:()=>{n($[s]||"index")}})]})})}},7623:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(62540),n=s(57829),r=s(63696);function i(){let[e,t]=(0,r.useState)(0),[s,a]=(0,r.useState)(null),n=(0,r.useRef)(null),i=(0,r.useCallback)(()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.disconnect()},[]),l=(0,r.useCallback)(()=>{n.current=new ResizeObserver(e=>{let[s]=e;return t(s.contentRect.width)}),s&&n.current.observe(s)},[s]);return(0,r.useEffect)(()=>(l(),()=>i()),[i,l]),[a,e]}function l(e){let{speed:t=1,direction:s="left",children:l,className:o,playState:c,...d}=e,[h,u]=i(),[m,p]=i(),[f,x]=(0,r.useState)(1);return(0,r.useEffect)(()=>{u&&p&&x(Math.min(Math.ceil(u/p),10))},[u,p]),(0,a.jsx)("div",{ref:h,className:(0,n.cn)("group relative overflow-hidden w-full",o),...d,children:(0,a.jsx)("div",{className:(0,n.cn)("motion-reduce:overflow-x-scroll flex","right"===s&&"motion-safe:justify-end"),children:[,,].fill(0).map((e,r)=>(0,a.jsx)("div",{className:(0,n.cn)("flex flex-[1_0_auto] motion-safe:will-change-transform group-hover:pause","left"===s?"motion-safe:animate-marquee-left":"motion-safe:animate-marquee-right","paused"===c&&"!pause"),style:{"--marquee-duration":"".concat((null!=p?p:0)*f/(30*t),"s")},children:Array(f).fill(0).map((e,t)=>{let s=0===r&&0===t;return(0,a.jsx)("div",{ref:s?m:null,"aria-hidden":!s||void 0,className:"grow-0",children:l},t)})},r))})})}}}]);